"use strict";(self.webpackChunkaudio_style_matching_frontend=self.webpackChunkaudio_style_matching_frontend||[]).push([[600],{1600:(e,s,t)=>{t.r(s),t.d(s,{default:()=>C});var r=t(9379),a=t(9950),i=t(5369),l=t(2056),n=t(1988),c=t(1514),o=t(8548),d=t(1102),x=t(2858),h=t(9884),p=t(4826),m=t(7094),y=t(1752),A=t(6004),u=t(5621),j=t(4369),g=t(4070),_=t(4513),f=t(8750),v=t(7743),b=t(8133),k=t(7848),S=t(4414);const{Title:z,Text:T}=j.A,{TextArea:q}=o.A,w=[{id:"1",name:"\u4eba\u58f0\u589e\u5f3a",description:"\u589e\u5f3a\u4eba\u58f0\u6e05\u6670\u5ea6\uff0c\u9002\u7528\u4e8e\u64ad\u5ba2\u548c\u8bed\u97f3\u5f55\u5236",category:"vocal",is_favorite:!0,parameters:{eq:[{type:"peaking",f_hz:2e3,gain_db:3,q:1.5},{type:"peaking",f_hz:5e3,gain_db:2,q:1}],lufs:{target_lufs:-16},compression:{enabled:!0,threshold_db:-18,ratio:3}},created_at:"2024-01-15"},{id:"2",name:"\u97f3\u4e50\u6bcd\u5e26",description:"\u9002\u7528\u4e8e\u97f3\u4e50\u5236\u4f5c\u7684\u6bcd\u5e26\u5904\u7406\u9884\u8bbe",category:"music",is_favorite:!1,parameters:{eq:[{type:"peaking",f_hz:100,gain_db:1,q:.7},{type:"peaking",f_hz:1e4,gain_db:1.5,q:1.2}],lufs:{target_lufs:-14},limiter:{tp_db:-1,release_ms:50}},created_at:"2024-01-10"},{id:"3",name:"\u5e7f\u64ad\u6807\u51c6",description:"\u7b26\u5408\u5e7f\u64ad\u7535\u53f0\u6807\u51c6\u7684\u54cd\u5ea6\u5904\u7406",category:"broadcast",is_favorite:!1,parameters:{lufs:{target_lufs:-23},limiter:{tp_db:-1,release_ms:100},compression:{enabled:!0,threshold_db:-20,ratio:2.5}},created_at:"2024-01-05"}],C=()=>{const[e,s]=(0,a.useState)([]),[t,j]=(0,a.useState)(!1),[C,I]=(0,a.useState)(!1),[O,F]=(0,a.useState)(null),[D]=c.A.useForm(),B=(0,a.useCallback)(async()=>{j(!0);try{setTimeout(()=>{s(w),j(!1)},500)}catch(e){x.Ay.error("\u52a0\u8f7d\u9884\u8bbe\u5931\u8d25"),j(!1)}},[]);(0,a.useEffect)(()=>{B()},[B]);const E=e=>({vocal:"\u4eba\u58f0",music:"\u97f3\u4e50",broadcast:"\u5e7f\u64ad",podcast:"\u64ad\u5ba2",other:"\u5176\u4ed6"}[e]||"\u5176\u4ed6");return(0,S.jsxs)("div",{className:"preset-manager",children:[(0,S.jsxs)(l.A,{title:(0,S.jsxs)(A.A,{children:[(0,S.jsx)(v.A,{}),"\u9884\u8bbe\u7ba1\u7406"]}),extra:(0,S.jsx)(i.Ay,{type:"primary",icon:(0,S.jsx)(f.A,{}),onClick:()=>{F(null),D.resetFields(),I(!0)},children:"\u65b0\u5efa\u9884\u8bbe"}),children:[(0,S.jsxs)(m.A,{gutter:[16,16],style:{marginBottom:16},children:[(0,S.jsx)(n.A,{xs:24,sm:8,children:(0,S.jsx)(l.A,{size:"small",children:(0,S.jsxs)("div",{style:{textAlign:"center"},children:[(0,S.jsx)(z,{level:3,style:{margin:0,color:"#1890ff"},children:e.length}),(0,S.jsx)(T,{type:"secondary",children:"\u603b\u9884\u8bbe\u6570"})]})})}),(0,S.jsx)(n.A,{xs:24,sm:8,children:(0,S.jsx)(l.A,{size:"small",children:(0,S.jsxs)("div",{style:{textAlign:"center"},children:[(0,S.jsx)(z,{level:3,style:{margin:0,color:"#faad14"},children:e.filter(e=>e.is_favorite).length}),(0,S.jsx)(T,{type:"secondary",children:"\u6536\u85cf\u9884\u8bbe"})]})})}),(0,S.jsx)(n.A,{xs:24,sm:8,children:(0,S.jsx)(l.A,{size:"small",children:(0,S.jsxs)("div",{style:{textAlign:"center"},children:[(0,S.jsx)(z,{level:3,style:{margin:0,color:"#52c41a"},children:new Set(e.map(e=>e.category)).size}),(0,S.jsx)(T,{type:"secondary",children:"\u9884\u8bbe\u5206\u7c7b"})]})})})]}),(0,S.jsx)(d.A,{loading:t,dataSource:e,renderItem:t=>{return(0,S.jsx)(d.A.Item,{actions:[(0,S.jsx)(i.Ay,{type:"text",icon:t.is_favorite?(0,S.jsx)(b.A,{style:{color:"#faad14"}}):(0,S.jsx)(k.A,{}),onClick:()=>(async t=>{try{s(e.map(e=>e.id===t?(0,r.A)((0,r.A)({},e),{},{is_favorite:!e.is_favorite}):e)),x.Ay.success("\u6536\u85cf\u72b6\u6001\u5df2\u66f4\u65b0")}catch(a){x.Ay.error("\u66f4\u65b0\u6536\u85cf\u72b6\u6001\u5931\u8d25")}})(t.id)}),(0,S.jsx)(i.Ay,{type:"text",icon:(0,S.jsx)(_.A,{}),onClick:()=>(e=>{F(e),D.setFieldsValue({name:e.name,description:e.description,category:e.category}),I(!0)})(t)}),(0,S.jsx)(p.A,{title:"\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u4e2a\u9884\u8bbe\u5417\uff1f",onConfirm:()=>(async t=>{try{s(e.filter(e=>e.id!==t)),x.Ay.success("\u9884\u8bbe\u5df2\u5220\u9664")}catch(r){x.Ay.error("\u5220\u9664\u9884\u8bbe\u5931\u8d25")}})(t.id),okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",children:(0,S.jsx)(i.Ay,{type:"text",danger:!0,icon:(0,S.jsx)(g.A,{})})})],children:(0,S.jsx)(d.A.Item.Meta,{title:(0,S.jsxs)(A.A,{children:[t.name,(0,S.jsx)(u.A,{color:(a=t.category,{vocal:"blue",music:"green",broadcast:"orange",podcast:"purple",other:"default"}[a]||"default"),children:E(t.category)})]}),description:(0,S.jsxs)("div",{children:[(0,S.jsx)(T,{type:"secondary",children:t.description}),(0,S.jsx)("br",{}),(0,S.jsxs)(T,{type:"secondary",style:{fontSize:"12px"},children:["\u521b\u5efa\u65f6\u95f4: ",t.created_at]})]})})});var a},pagination:{pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:e=>"\u5171 ".concat(e," \u4e2a\u9884\u8bbe")}})]}),(0,S.jsx)(h.A,{title:O?"\u7f16\u8f91\u9884\u8bbe":"\u65b0\u5efa\u9884\u8bbe",open:C,onCancel:()=>I(!1),onOk:()=>D.submit(),okText:"\u4fdd\u5b58",cancelText:"\u53d6\u6d88",children:(0,S.jsxs)(c.A,{form:D,layout:"vertical",onFinish:async t=>{try{if(O)s(e.map(e=>e.id===O.id?(0,r.A)((0,r.A)((0,r.A)({},e),t),{},{updated_at:(new Date).toISOString().split("T")[0]}):e)),x.Ay.success("\u9884\u8bbe\u5df2\u66f4\u65b0");else{const a=(0,r.A)((0,r.A)({id:Date.now().toString()},t),{},{is_favorite:!1,parameters:{eq:[],lufs:{target_lufs:-23},limiter:{tp_db:-1,release_ms:100}},created_at:(new Date).toISOString().split("T")[0]});s([a,...e]),x.Ay.success("\u9884\u8bbe\u5df2\u521b\u5efa")}I(!1)}catch(a){x.Ay.error("\u4fdd\u5b58\u9884\u8bbe\u5931\u8d25")}},children:[(0,S.jsx)(c.A.Item,{name:"name",label:"\u9884\u8bbe\u540d\u79f0",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9884\u8bbe\u540d\u79f0"}],children:(0,S.jsx)(o.A,{placeholder:"\u8f93\u5165\u9884\u8bbe\u540d\u79f0"})}),(0,S.jsx)(c.A.Item,{name:"description",label:"\u9884\u8bbe\u63cf\u8ff0",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9884\u8bbe\u63cf\u8ff0"}],children:(0,S.jsx)(q,{rows:3,placeholder:"\u63cf\u8ff0\u8fd9\u4e2a\u9884\u8bbe\u7684\u7528\u9014\u548c\u7279\u70b9"})}),(0,S.jsx)(c.A.Item,{name:"category",label:"\u9884\u8bbe\u5206\u7c7b",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u9884\u8bbe\u5206\u7c7b"}],children:(0,S.jsxs)(y.A,{placeholder:"\u9009\u62e9\u9884\u8bbe\u5206\u7c7b",children:[(0,S.jsx)(y.A.Option,{value:"vocal",children:"\u4eba\u58f0"}),(0,S.jsx)(y.A.Option,{value:"music",children:"\u97f3\u4e50"}),(0,S.jsx)(y.A.Option,{value:"broadcast",children:"\u5e7f\u64ad"}),(0,S.jsx)(y.A.Option,{value:"podcast",children:"\u64ad\u5ba2"}),(0,S.jsx)(y.A.Option,{value:"other",children:"\u5176\u4ed6"})]})})]})})]})}}}]);